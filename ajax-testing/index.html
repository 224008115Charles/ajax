<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>测试</title>
  <script src="../ajax-dev/ajax.1.8.js"></script>
</head>
<body>
测试页面勿怪
<button onclick="f()">测试</button>
<button onclick="r()">查看请求池请求数量</button>
</body>
</html>
<script>

  var formData = new FormData()
  formData.append('a','gerry')
  var num = 0

  // for (var i = 0; i < 100; i++) {
  //   console.time("")
  //   ajax.post(`http://localhost:3000/post?3000`,{a:new Date().getTime()},function (res) {
  //     console.log('我获取到：',res)
  //   })
  //   console.timeEnd("")
  // }

  // var qqq = 0
  // var temp = setInterval(function () {
  //   if (qqq === 20) {
  //     window.clearInterval(temp);
  //   }
  //   // console.time("")
  //   ajax.postFormData(`http://localhost:3000/post`,formData,function (res) {
  //     // console.log('获得相应：',res)
  //   })
  //   // console.timeEnd("")
  //   qqq++
  // },100)


  // ajax.post(``,{a:new Date().getTime()},function (res) {
  //   console.log('我获取到：',res)
  // })


  // ajax.longPolling('post','http://localhost:3000/post',{name:'gerry'},function (data,that) {
  //   num++
  //   console.log('receive:',data)
  //   if (num === 1) {
  //     that.stop = true
  //   }
  // },2000)


  function f() {
    ajax.post(`http://localhost:3000/post`,{a:new Date().getTime()},function (res) {
      console.log('我获取到：',res)
    })
  }

  function r() {
    // ajax.look()
    ajax.config({
      requestHeader:{
        'shopID':'123'
      }
    })
  }

  // console.time('优化之后时间：')
  // ajax.testXHr()
  // console.timeEnd('优化之后时间：')
</script>